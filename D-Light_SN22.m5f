{"components":[{"id":"____screen","createTime":1645754395792,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","backgroundImage":"","size":0,"screenType":"default","type":"screen"},{"id":"____buttonA","createTime":1645754395792,"name":"ButtonA","buttonIndex":0,"x":44,"y":274,"width":64,"height":24,"text":"ButtonA","visibility":false,"type":"button"},{"id":"____buttonB","createTime":1645754395792,"name":"ButtonB","buttonIndex":1,"x":158,"y":274,"width":64,"height":24,"text":"ButtonB","visibility":false,"type":"button"},{"id":"____buttonC","createTime":1645754395792,"name":"ButtonC","buttonIndex":2,"x":273,"y":274,"width":64,"height":24,"text":"ButtonC","visibility":false,"type":"button"},{"id":"V7a7Wps6J*n&qRR#","createTime":1645754409468,"isCoreTwo":false,"isPaper":false,"name":"label0","x":21,"y":73,"color":"#fcfcfc","text":"LUX:","font":"lcd.FONT_DejaVu24","rotation":0,"screenType":"default","type":"label","layer":4},{"id":"hnr-JQ3paTa&P5pX","createTime":1645754413258,"isCoreTwo":false,"isPaper":false,"name":"label1","x":114,"y":73,"color":"#FFFFFF","text":"Text","font":"lcd.FONT_DejaVu24","rotation":0,"screenType":"default","type":"label","layer":5},{"id":"e&y%h&l-b6StAqHg","createTime":1645754430019,"isCoreInk":false,"isPaper":false,"name":"title0","x":0,"y":0,"width":320,"height":20,"color":"#FFFFFF","backgroundColor":"#016249","text":"UNIT D-LIGHT","textOffset":"110","font":"lcd.FONT_Default","screenType":"default","type":"title","layer":8},{"id":"6l70xs3VK5ZAXJgW","createTime":1645754693937,"isCoreTwo":false,"isPaper":false,"name":"label5","x":21,"y":124,"color":"#FFFFFF","text":"Select:","font":"lcd.FONT_Ubuntu","rotation":0,"screenType":"default","type":"label","layer":10},{"id":"^sC_Rn5jWZqz4zu+","createTime":1645754699759,"isCoreTwo":false,"isPaper":false,"name":"label6","x":81,"y":124,"color":"#FFFFFF","text":"Text","font":"lcd.FONT_Ubuntu","rotation":0,"screenType":"default","type":"label","layer":11},{"id":"A5TUKMVGw7z+3kBS","createTime":1698834481567,"name":"rectangle0","x":260,"y":73,"width":30,"height":30,"borderColor":"#FFFFFF","backgroundColor":"#FFFFFF","screenType":"default","type":"rectangle","layer":12,"radius":null},{"id":"N!Nn7zDC`n*ldj3v","createTime":1698839603665,"isCoreTwo":false,"isPaper":false,"name":"label2","x":41,"y":218,"color":"#FFFFFF","text":"Start/Stop","font":"lcd.FONT_Default","rotation":0,"screenType":"default","type":"label","layer":15,"width":null,"height":null,"radius":null}],"type":"core","versions":"Beta","units":[{"id":"Hf+&PWQ@Nxw0mSUF","createTime":1698831516622,"type":"dlight","name":"dlight_0","port":"A","default":["A","E","PAHUB","Custom"],"pb_port":[0,1,2,3,4,5],"new_pb_port":"0","user_port":["21","22"],"icon":"DLIGHT.png","url":"https://docs.m5stack.com/en/unit/dlight"}],"hats":[],"stamps":[],"blockly":"<variables><variable id=\"y~Q0zDCTXbo4jw-7gDaN\">str_mesure</variable><variable id=\":pK?a+Jefk8|D:-ydo5G\">total</variable><variable id=\"%@yPt[7FdWfQ1W-E`HUb\">running</variable><variable id=\"#4x`,SdRL}G1-D1|ke)s\">data</variable><variable id=\"L!abyMAcebfhv9[4T+P{\">j</variable><variable id=\"+jg?tauzniE=~WXg`Ffa\">lux</variable><variable id=\"#BmFg=8Sphp`iM2UQtnh\">payload</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"109\" y=\"-22\"><next><block type=\"wifi_doConnect\" id=\"Dr8/}/yI17.d~8vVgo8v\"><value name=\"apiKey\"><shadow type=\"text\" id=\"Y#6ClzvYGOcCZ~!E{xTi\"><field name=\"TEXT\">tux</field></shadow></value><value name=\"Msg\"><shadow type=\"text_password\" id=\"nx52W,p/u_AH#S^f}+ec\"><field name=\"TEXT\">abc12345</field></shadow></value><next><block type=\"controls_if\" id=\"a7uVf?^[:l5b2^wq+OX;\"><value name=\"IF0\"><block type=\"wifi_isconnect\" id=\"hqq62#^p)heIF,ubI%1D\"></block></value><statement name=\"DO0\"><block type=\"rect_set_bgcolor\" id=\"clIRdi^~?OX.NIdoAb%)\"><field name=\"COMPONENT\">rectangle0</field><field name=\"COLOR\">#66ff99</field></block></statement><next><block type=\"unit_dlight_set_continous_mode\" id=\"9YrbWKPw^UV9eur`%;jh\"><field name=\"VARNAME\">dlight_0</field><field name=\"mode\">0x11</field><next><block type=\"label_set_text\" id=\"5O~x_=lF4%|rk?DW3]Ue\"><field name=\"COMPONENT\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"nTq^8q1^s!P5:m6QiF`^\"><field name=\"TEXT\">---</field></shadow></value><next><block type=\"label_set_text\" id=\"SGlEiY,Yp44U6=z6tR~]\"><field name=\"COMPONENT\">label6</field><value name=\"TEXT\"><shadow type=\"text\" id=\"+za-[w/A}`oWyM~]e;y+\"><field name=\"TEXT\">Stopped</field></shadow></value><next><block type=\"mqtt_set_client\" id=\"388=+{kZbS/g:X{p3Q}$\"><value name=\"ID\"><shadow type=\"text\" id=\"P7V[Ni5II$6yQ=yleVT;\"><field name=\"TEXT\">123456</field></shadow></value><value name=\"SERVER\"><shadow type=\"text\" id=\"5hdp`RXsLnT6^n|*$F2=\"><field name=\"TEXT\">ada.mips.science</field></shadow></value><value name=\"PORT\"><shadow type=\"math_number\" id=\"|x.rg6w9|/pw^mGWwt@;\"><field name=\"NUM\">1883</field></shadow></value><value name=\"USER\"><shadow type=\"text\" id=\"WH7(QBqkC$3@y(d[uucK\"><field name=\"TEXT\"></field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text_password\" id=\"omxD86%NB9K=of82uTGx\"><field name=\"TEXT\"></field></shadow></value><value name=\"KEEPALIVE\"><shadow type=\"math_slider\" id=\".7]Cb@9T@AcTw?|^w]y]\"><field name=\"NUM\" max=\"65536\" step=\"1\">300</field></shadow></value><next><block type=\"mqtt_start\" id=\"~j]Vzg(AOajz-6Td2kAx\"><next><block type=\"variables_set\" id=\"^Qz3eQ?;tt?-})`~w}.)\"><field name=\"VAR\" id=\"%@yPt[7FdWfQ1W-E`HUb\">running</field><value name=\"VALUE\"><block type=\"math_number\" id=\"GtfE[.S/$0{InWPW`S?o\"><field name=\"NUM\">0</field></block></value><next><block type=\"basic_on_loop\" id=\"HH3)jMfPeOFkbv-U%?xm\"><statement name=\"LOOP\"><block type=\"controls_if\" id=\"ol;g@vKbr_2jo]/20)7i\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"OlvVB@B0n?vEd?@g{QD*\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"cn=P*(]t#|3{~Y:8%}/H\"><field name=\"VAR\" id=\"%@yPt[7FdWfQ1W-E`HUb\">running</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"S2s9(0|IZ(-VK3K(GvpN\"><field name=\"NUM\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"rect_set_bgcolor\" id=\"Cs5m@o_vZ~21:ZI=3jzI\"><field name=\"COMPONENT\">rectangle0</field><field name=\"COLOR\">#ff9900</field><next><block type=\"variables_set\" id=\"A$$WX!JkCx.gPkLo:2_E\"><field name=\"VAR\" id=\"#BmFg=8Sphp`iM2UQtnh\">payload</field><value name=\"VALUE\"><block type=\"text_add\" id=\"yryV^l$b^wH2hK=aoM#Y\"><value name=\"arg0\"><shadow type=\"text\" id=\"sMF48$*!4qi3QL@RKVhz\"><field name=\"TEXT\">{\"capteur\":\"capteur1\", \"mesures\":</field></shadow></value><value name=\"arg1\"><block type=\"text_add\" id=\"vVccT0{YgRMK-#c~Fx.5\"><value name=\"arg0\"><shadow type=\"text\" id=\"kR76(%zCp#hKg#Dy),Jv\"><field name=\"TEXT\">{\"timestamp\":</field></shadow><block type=\"procedures_callreturn\" id=\"t0]YW%x%?AY(+D+rGo_*\"><mutation name=\"mesurer\"></mutation></block></value><value name=\"arg1\"><block type=\"text\" id=\"i6MA~Hna|q_Fp2]*PVe?\"><field name=\"TEXT\">}</field></block></value></block></value></block></value><next><block type=\"mqtt_publish\" id=\"Fz:c!E)3/vp+YFrbVyyX\"><value name=\"FROM\"><shadow type=\"text\" id=\"|aTT+sr?//9VS]V@wj^w\"><field name=\"TEXT\">sensor/luminosite/capteur1</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"xkfeK3_n-s`Iup0%/Kro\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"@Mw%}bC|G:O=K`V1TIjv\"><field name=\"VAR\" id=\"#BmFg=8Sphp`iM2UQtnh\">payload</field></block></value><value name=\"qos\"><block type=\"math_number\" id=\"MeQ{3YiK3M2/d{k_RsP@\"><field name=\"NUM\">0</field></block></value><next><block type=\"rect_set_bgcolor\" id=\"(xhho71K:d=lN;Vm6zu2\"><field name=\"COMPONENT\">rectangle0</field><field name=\"COLOR\">#66ff99</field></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"label_set_text\" id=\"|=#_Vt8)Zzm.xSLU:O0G\"><field name=\"COMPONENT\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"G7TEIS[dVI:SN[(0cqj2\"><field name=\"TEXT\">---</field></shadow></value></block></statement><next><block type=\"timer_delay\" id=\"7MVwpx1n`zOra}DQu-,I\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"U.nd#`mMa|c//DT{wxM_\"><field name=\"NUM\">1</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"procedures_defreturn\" id=\"mYvIojo8$qv/Y?@$6SR-\" x=\"890\" y=\"10\"><field name=\"NAME\">mesurer</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"@yHC2(}^=md47Y+J_;na\"><field name=\"VAR\" id=\":pK?a+Jefk8|D:-ydo5G\">total</field><value name=\"VALUE\"><block type=\"math_number\" id=\"{V2HvPqO(6,B*#i^eH%h\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"-7K#om.G~f^Hd@I-qYvr\"><field name=\"VAR\" id=\"#4x`,SdRL}G1-D1|ke)s\">data</field><value name=\"VALUE\"><block type=\"lists_create_with\" id=\"c@4[f~dd2;SP-3$K2SmR\"><mutation items=\"8\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"nfKE/#x=z@4WiO!s~f@7\"><field name=\"TEXT\"></field></block></value><value name=\"ADD1\"><block type=\"text\" id=\"n7M7@Y7kkxJq{u.:$CZX\"><field name=\"TEXT\"></field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"R,qTS|fa6oL.OhOBYEr7\"><field name=\"TEXT\"></field></block></value><value name=\"ADD3\"><block type=\"text\" id=\"zfI7WJmAYMJ725c3L}d%\"><field name=\"TEXT\"></field></block></value><value name=\"ADD4\"><block type=\"text\" id=\"}hEbRM=oD},JYPaHVu0%\"><field name=\"TEXT\"></field></block></value><value name=\"ADD5\"><block type=\"text\" id=\"gMxpR)S)RiBf]EpUhsVK\"><field name=\"TEXT\"></field></block></value><value name=\"ADD6\"><block type=\"text\" id=\"C6pSRaf]m%`CP^+%8%5D\"><field name=\"TEXT\"></field></block></value><value name=\"ADD7\"><block type=\"text\" id=\"=G#-_)JI3%hy}ih#!B|h\"><field name=\"TEXT\"></field></block></value></block></value><next><block type=\"controls_for\" id=\"+SX5(m~{-o.UBV-eOCou\"><field name=\"VAR\" id=\"L!abyMAcebfhv9[4T+P{\">j</field><value name=\"FROM\"><block type=\"math_number\" id=\"U4SdP[v,;kX;:Hx)zKx)\"><field name=\"NUM\">1</field></block></value><value name=\"TO\"><block type=\"math_number\" id=\"*sSJ5|Eazv@DBGZZ/QoY\"><field name=\"NUM\">8</field></block></value><value name=\"BY\"><block type=\"math_number\" id=\"FiLAcx8AXMO|8/]BwZ)h\"><field name=\"NUM\">1</field></block></value><statement name=\"DO\"><block type=\"variables_set\" id=\"qRytO`)Ip9!Xl-AG5W2}\"><field name=\"VAR\" id=\"+jg?tauzniE=~WXg`Ffa\">lux</field><value name=\"VALUE\"><block type=\"unit_dlight_get_lux\" id=\"|01b|G2VCZ^oJc.q4}zq\"><field name=\"VARNAME\">dlight_0</field></block></value><next><block type=\"variables_set\" id=\"6FAdSltxmKJb_EH[$)^I\"><field name=\"VAR\" id=\":pK?a+Jefk8|D:-ydo5G\">total</field><value name=\"VALUE\"><block type=\"math_arithmetic\" id=\".]I?8BNi4.|;yFOgkVm8\"><field name=\"OP\">ADD</field><value name=\"A\"><block type=\"variables_get\" id=\"XaKSg97_6^OVu*/ujL$3\"><field name=\"VAR\" id=\":pK?a+Jefk8|D:-ydo5G\">total</field></block></value><value name=\"B\"><block type=\"variables_get\" id=\"kd-g{:$e_v6_pQf+[7aN\"><field name=\"VAR\" id=\"+jg?tauzniE=~WXg`Ffa\">lux</field></block></value></block></value><next><block type=\"lists_setIndex\" id=\"3)Gl!id]@4kG5(}.94jr\"><mutation at=\"true\"></mutation><field name=\"MODE\">SET</field><field name=\"WHERE\">FROM_START</field><value name=\"LIST\"><block type=\"variables_get\" id=\"mTv.L/0qJ;t7eH-{x$uC\"><field name=\"VAR\" id=\"#4x`,SdRL}G1-D1|ke)s\">data</field></block></value><value name=\"AT\"><block type=\"variables_get\" id=\"]`[Djz`S5](*4e5[cEj0\"><field name=\"VAR\" id=\"L!abyMAcebfhv9[4T+P{\">j</field></block></value><value name=\"TO\"><block type=\"convent_str\" id=\"Bf3u(MQAci%?]@zrpvO+\"><value name=\"VALUE\"><block type=\"variables_get\" id=\"u;,z~CfpUL3:Z5~z$buP\"><field name=\"VAR\" id=\"+jg?tauzniE=~WXg`Ffa\">lux</field></block></value></block></value><next><block type=\"timer_delay\" id=\"f4wC_bW@L9h%O*Pm-m!I\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"_oAr/7R/]e5`W7o[cwRO\"><field name=\"NUM\">0.2</field></shadow></value></block></next></block></next></block></next></block></statement><next><block type=\"variables_set\" id=\"ZtL7zcZ:/X|[`4y0E[Yp\"><field name=\"VAR\" id=\"y~Q0zDCTXbo4jw-7gDaN\">str_mesure</field><value name=\"VALUE\"><block type=\"text_add\" id=\"LgyxZ+ZmCzorf(/e2IPe\"><value name=\"arg0\"><shadow type=\"text\" id=\"YPw;EFMmV!IFd{vMC3!S\"><field name=\"TEXT\">[</field></shadow></value><value name=\"arg1\"><block type=\"lists_split\" id=\"WNV_Z-Xi%G?Jku+3|;+9\"><mutation mode=\"JOIN\"></mutation><field name=\"MODE\">JOIN</field><value name=\"INPUT\"><block type=\"variables_get\" id=\"UC4Wz_a8}]{%r%G~]zSs\"><field name=\"VAR\" id=\"#4x`,SdRL}G1-D1|ke)s\">data</field></block></value><value name=\"DELIM\"><block type=\"text\" id=\"c[F)rC6tU56PTJ`}a^ee\"><field name=\"TEXT\">,</field></block></value></block></value></block></value><next><block type=\"variables_set\" id=\"$0cXF[i%HdIZgX#-h/_;\"><field name=\"VAR\" id=\"y~Q0zDCTXbo4jw-7gDaN\">str_mesure</field><value name=\"VALUE\"><block type=\"text_add\" id=\"}|vq/-?fTbNf6ROrzGge\"><value name=\"arg0\"><shadow type=\"text\" id=\"PC?q}p{=x?41hPG7@B4p\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"Rvi#1]J7wS}Ee0Zs/EHl\"><field name=\"VAR\" id=\"y~Q0zDCTXbo4jw-7gDaN\">str_mesure</field></block></value><value name=\"arg1\"><block type=\"text\" id=\"`;L6w$4_*p3j^FB|_/Z%\"><field name=\"TEXT\">]</field></block></value></block></value><next><block type=\"label_set_text\" id=\"uabnEp3|/H47#=2_O:BQ\"><field name=\"COMPONENT\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"ewHFTlo$l48coa;2}a8~\"><field name=\"TEXT\">Hello M5</field></shadow><block type=\"math_round\" id=\"Krak2oG9=7w@,Tdd:#sV\"><field name=\"OP\">ROUND</field><value name=\"NUM\"><block type=\"math_arithmetic\" id=\"CJ(9Qo6kn[czqr-w%?HT\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><block type=\"variables_get\" id=\"2vt3f6Re8JZlU%j.=@6k\"><field name=\"VAR\" id=\":pK?a+Jefk8|D:-ydo5G\">total</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"cwVRd3]eAf@^2Lv3e@6i\"><field name=\"NUM\">8</field></block></value></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></statement><value name=\"RETURN\"><block type=\"variables_get\" id=\"(6tY;}P{7MZdyys!w9_|\"><field name=\"VAR\" id=\"y~Q0zDCTXbo4jw-7gDaN\">str_mesure</field></block></value></block><block type=\"button_callback\" id=\",)[uOY!YTd-oe(uBeR.q\" x=\"890\" y=\"730\"><field name=\"BUTTON\">A</field><field name=\"EVENT\">wasPressed</field><statement name=\"FUNC\"><block type=\"controls_ifelse\" id=\"zRb%kz,t+O:,v11eLHt2\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"(VzDc6b3]h(8%xD]1!cP\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"0/A@EPu;U,xl/`=)?WnC\"><field name=\"VAR\" id=\"%@yPt[7FdWfQ1W-E`HUb\">running</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"t5/9oaWHcogFLA79#x+@\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"z]Vh0^bMyE=5m7?3ghnj\"><field name=\"VAR\" id=\"%@yPt[7FdWfQ1W-E`HUb\">running</field><value name=\"VALUE\"><block type=\"math_number\" id=\"qZ;ZM8mbDK;/}Ts`yf^g\"><field name=\"NUM\">1</field></block></value><next><block type=\"label_set_text\" id=\"#uFqLWSqFrEeOt:eA5vF\"><field name=\"COMPONENT\">label6</field><value name=\"TEXT\"><shadow type=\"text\" id=\"Ti9mcH7Gf5WkkFf-px#9\"><field name=\"TEXT\">Continous Mode Hi-res2</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"variables_set\" id=\"YgG+2=)QE$`aUUXdv,Gv\"><field name=\"VAR\" id=\"%@yPt[7FdWfQ1W-E`HUb\">running</field><value name=\"VALUE\"><block type=\"math_number\" id=\"qd`6,BQqwNGJpI_HQNCc\"><field name=\"NUM\">0</field></block></value><next><block type=\"label_set_text\" id=\"=(J,BiW5EyI/daDICrrj\"><field name=\"COMPONENT\">label6</field><value name=\"TEXT\"><shadow type=\"text\" id=\"IMPY^xhtFG[VUKeY5mO7\"><field name=\"TEXT\">Stopped</field></shadow></value><next><block type=\"label_set_text\" id=\"edUMO]7z~Gu;nY+[H-0u\"><field name=\"COMPONENT\">label1</field><value name=\"TEXT\"><shadow type=\"text\" id=\"@,%u.^{`IIeH:%gP!Mlm\"><field name=\"TEXT\">---</field></shadow></value></block></next></block></next></block></statement></block></statement></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1698831516622,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"orsNTFbxLj1uWSMMGqXFPKEJKzQKSlVl","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":["imu"],"cbIdList_":[],"eventCBIdList_":[],"apikey":"1B9D9A6C","uuid":"1fc77b82-148d-459e-926b-cbfdc70803af"}